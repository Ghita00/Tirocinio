{% extends 'gestionale/base.html' %}

{% block formMerce %}

<h2>Aggiungi merce</h2>
    {% from "sito/_formhelpers.html" import render_field %}
    <form method="POST" action="">
        {{ form.hidden_tag() }}
        <div class="row">
            <div class="col-3">
                {{ render_field(form.Nome) }}
            </div>
            <div class="col-3">
                {{ render_field(form.Quantit√†) }}
            </div>
            <div class="col-3">
                {{ render_field(form.Prezzo) }}
            </div>
            <div class="col-3">
                {{ render_field(form.IVA) }}
            </div>
        </div>
        <div class="row">
            <div class="col-5">
                <label>La merce inserita risulta essere una materia prima?</label>
                {{ render_field(form.MateriaPrima) }}
            </div>
        </div>
        <hr>
        <h4>Eventuale Allergene</h4>
        <div id="appendi">
                {{ render_field(form.Allergene) }}
        </div>
        {{ render_field(form.Submit) }}
    </form>

<script>
    padre = document.getElementById("Allergene")
    figli = padre.childNodes
    row = document.createElement("div")
    row.classList.add("row");

    col0 = document.createElement("col")
    col0.classList.add("col-2");

    col1 = document.createElement("col")
    col1.classList.add("col-4");
    for(i = 0; i < 7; i++)
        col1.appendChild(figli[i])

    col2 = document.createElement("col")
    col2.classList.add("col-4");

    while(padre.childNodes.length > 0){
        console.log(padre.childNodes[0])
        col2.appendChild(padre.childNodes[0])
    }

    col3 = document.createElement("col")
    col3.classList.add("col-2");

    x = document.getElementById("appendi")
    x.appendChild(row)
    row.appendChild(col0)
    row.appendChild(col1)
    row.appendChild(col2)
    row.appendChild(col3)

</script>
{% endblock %}