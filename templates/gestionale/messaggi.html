{% extends 'gestionale/base.html' %}

{% block mex %}
<h2>Messaggi ricevuti</h2>
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="center">
    {% for message in messages %}
      <h2 class="text-center">{{ message }}</h2>
    {% endfor %}
    </div>
  {% else %}
    <table class="table">
  <thead>
    <tr>
      <th scope="col" class="text-center">Id</th>
      <th scope="col" class="text-center">Mittente</th>
      <th scope="col" class="text-center">Oggetto</th>
      <th scope="col" class="text-center">Contenuto</th>
    </tr>
  </thead>
  <tbody>
    {% for mex in messaggi%}
    <tr>
      <th scope="row" class="text-center">{{mex.Id}}</th>
      <td class="text-center">{{mex.Mail_Cliente}}</td>
      <td class="text-center">{{mex.Oggetto}}</td>
      <td class="text-center">{{mex.Testo}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<br>
    <div class="row">
        <div class="col-4"></div>
        <div class="col-4">
            <form action="{{url_for('blog.messaggi')}}" method="post">
                <div class="row g-3">
                    <div class="col-auto">
                        <button type="submit" class="btn btn-secondary" name="mex" value="-1">Precedenti 5</button>
                    </div>
                    <br>
                    <div class="col-auto">
                        <button type="submit" name="mex" value="1" class="btn btn-primary">Successivi 5</button>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-4"></div>
    </div>
  {% endif %}
{% endwith %}

{% endblock %}